第六章：重新组织函数。
1.几乎所有时刻，问题都源于Long Method。这些信息又被函数错综复杂的逻辑掩盖，不易鉴别。对付过长函数，重构手法就是Extract Method，把一段代码从原先函数中提取出来，放进单独函数中。
在Extract Method最大的困难就是处理局部变量，而临时变量则是其中一个主要的困难源头。这时处理运用Replace Temp with Query

2.Extract Method(提炼函数)
对于过长的函数或一段需要注释才能让人理解用途的代码使用。
提炼函数需要在函数的名称上面下功夫，创建一个新函数，根据这个函数的意图来对它命名(以"做什么"而不是"怎么做"命名)
	2.1无局部变量-----直接封装
	2.2有局部变量-----被提炼代码只读取这些变量的值，并不修改它们。可以简单的将它们作为参数传给目标函数。
	2.3对局部变量再赋值----使用Remove Assignments to Parameters(移除对参数的赋值)如果对于传入的参数既要使用，又要给它赋予新值。那么我们可以在这个局部函数中声明一个局部变量用于用户存储该值《重构》P131

3.Replace Temp with Query(以查询取代临时变量) (P120)  ,这个多用于提炼放方法中遇到的局部变量处理。
	以程序的一个临时变量保存一个表达式的运算结果
	double basePrice=_quantity*_itemPrice;
		if(basePrice > 1000)
			return basePrice*0.95;
		else
			return  basePirce*0.98;
	使用 Replace Temp with Query 重构手段
		if(basePrice()>1000)
			return basePrice()*0.95;
		else
			return basePrice()*0.98;
		double basePrice()
		{
			return _quantity*_itemPrice;
		}
	如果一个临时变量被赋值超过一次，使用Split Temporary Variable 将它分割成多个变量。并将该临时变量声明为final

4.Inline Method (内联函数)
	int getRating()
	{
		return (moreThanFiveLateDeliveries())?2:1;
	}
	boolean moreThanFiveLateDeliveries()
	{
		return _numberOfLateDeliveries>5;
	}
	由于内部代码和函数名称同样清晰易读。这时去掉这个函数，直接使用其中代码
	int getRating()
	{
		return (_numberOfLateDeliveries>5)?2:1;
	}
	
5.Introduce Explaining Variable(引入解释性变量)
	将复杂表达式(或其中部分)的结果放进一个临时变量，以此变量名称来解释表达式用途。
	遇到表达式非常复杂难以理解，临时变量可以帮你讲表达式分解为比较容易管理的形式。
	
2012/2
第七章：对象之间搬移特性
1.在对象的设计过程中，“决定吧责任放在哪儿”非常重要

2.类往往会因为承担过多责任而变得臃肿不堪。这种情况下，使用Extract Class将一部分责任分离出去。如果一个类变得太“不负责任”，使用Inline Class(154)将它融入另一个类。如果一个类使用了另一个类，运用Hide Delegate(隐藏委托)将这种关系隐藏起来。然而与Hide Delegate相反的是，隐藏委托类导致拥有者的接口经常变化，这时使用Remove Middle Man
3.Move Method(搬移函数)
	程序中，有函数与其所驻类之外的另一个类进行更多交流：调用后者，或被后者调用。---在该函数最常引用的类中建立一个有着类似行为的新函数。将旧函数变成一个单纯的委托函数，或是将就函数完全移除。
	如果一个类有太多的行为，或如果一个类与另一个类有太多合作而形成高度耦合，这时使用搬移函数。
	从类中寻找这样的函数：使用另一个对象的次数比使用自己所驻对象的次数还多。
	搬迁中，需要使用源类的特性时，的4种选择：（1）将这个特性搬移到目标类；（2）建立使用一个目标类到源类的引用关系；（3）将对象当作参数传递给目标函数；（4）如果所需要特性是一个变量，将他当作参数传给目标函数。
	如果需要的源类多个特性，将源对象传递给目标函数。不过目标函数需要多个源的特性，就需要进一步重构。---分解目标函数，将其中一部分移回源类。
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	